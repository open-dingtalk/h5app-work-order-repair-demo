{"version":3,"sources":["pages/home/index.jsx","images/banner.png","pages/distribute/index.jsx","images/1.png","images/2.png","images/3.png","images/4.png","images/5.png","pages/edit/index.jsx","Router.js","App.js","reportWebVitals.js","index.js"],"names":["Main","navigate","useNavigate","goTo","path","console","log","className","block","color","onClick","context","useContext","UserInfoContext","Form","useForm","form","useState","loading","setLoading","items","setItems","link","setLink","back","replace","request","values","map","item","value","id","axios","post","domain","then","res","data","success","Dialog","alert","content","onConfirm","JSON","stringify","catch","error","onSubmit","a","validateFields","FormItems","props","Item","name","label","rules","placeholder","useEffect","saveForm","localStorage","getItem","parse","length","forEach","confirmText","err","resetForm","setFieldsValue","onBack","src","banner","alt","type","robotForm","key","push","setItem","Toast","show","robotValues","defaultItems","index","DeleteOutline","delItems","swiperItems","img1","img2","img3","img4","img5","img","loop","required","message","splice","concat","short","generate","App","element","React","createContext","state","corpId","authCode","userId","userName","this","login","get","loginAction","_this","dd","permission","requestAuthCode","onSuccess","code","setTimeout","setState","onFail","Component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.560fbda7.chunk.js","sourcesContent":["import React from 'react'\nimport { Button } from 'antd-mobile'\nimport { useNavigate } from 'react-router-dom'\nimport './index.css'\n\nconst Main = () => {\n  let navigate = useNavigate()\n\n  const goTo = (path) => {\n    console.log('---path----', path)\n    navigate(path)\n  }\n  return (\n    <div className=\"main\">\n      <div className={'title'}>操作列表</div>\n      <Button\n        className={'button'}\n        block\n        color=\"primary\"\n        onClick={() => {\n          goTo('/edit')\n        }}\n      >\n        配置工单\n      </Button>\n      <Button\n        className={'button'}\n        block\n        color=\"primary\"\n        onClick={() => {\n          goTo('/distribute')\n        }}\n      >\n        填写工单\n      </Button>\n    </div>\n  )\n}\nexport default Main\n","export default __webpack_public_path__ + \"static/media/banner.b911a511.png\";","import React, { useState, useContext, useEffect } from 'react'\nimport { Form, Input, Button, NavBar, Dialog } from 'antd-mobile'\nimport './index.css'\nimport { useNavigate } from 'react-router-dom'\nimport { UserInfoContext } from '../../App'\nimport axios from 'axios'\nimport banner from '../../images/banner.png'\n\nconst Main = () => {\n  const context = useContext(UserInfoContext)\n  const navigate = useNavigate()\n  const [form] = Form.useForm()\n  const [loading, setLoading] = useState(false)\n  const [items, setItems] = useState([])\n  const [link, setLink] = useState('')\n\n  const resetForm = () => {\n    try {\n      let values = {}\n      let saveForm = localStorage.getItem('form')\n      saveForm = JSON.parse(saveForm)\n      if (!saveForm || !saveForm.items || !saveForm.items.length) {\n        Dialog.alert({\n          content: '需要先配置工单',\n          confirmText: '前往配置',\n          onConfirm: () => {\n            navigate('/edit')\n          }\n        })\n        return\n      }\n      if (saveForm && saveForm.items && saveForm.items.length) {\n        setItems(saveForm.items)\n        saveForm.items.forEach(item => {\n          values[item.id] = item.label\n        })\n      }\n      setLink(saveForm ? saveForm.link : '')\n      return {\n        link: saveForm ? saveForm.link : '',\n        values\n      }\n    } catch (err) {\n      console.log('err', err)\n    }\n  }\n\n  const back = () => {\n    navigate('/', { replace: true })\n  }\n  const request = (values) => {\n    setLoading(true)\n    const form = {\n      link,\n      items: items.map(item => {\n        item.value = values[item.id]\n        return item\n      }),\n    }\n    axios\n      .post(context.domain + '/groupRobot/form/submit', form)\n      .then((res) => {\n        setLoading(false)\n        if (res && res.data.success) {\n          Dialog.alert({\n            content: '提交成功!',\n            onConfirm: () => {\n              back()\n            }\n          })\n        } else {\n          alert('request failed --->' + JSON.stringify(res))\n        }\n      })\n      .catch((error) => {\n        setLoading(false)\n        alert('httpRequest failed --->' + JSON.stringify(error))\n      })\n  }\n  const onSubmit = async () => {\n    try {\n      const values = await form.validateFields()\n      console.log(values)\n      request(values)\n    } catch (errorList) {\n      console.log(errorList)\n    }\n  }\n  const FormItems = (props) => {\n    const formItems = props.items\n    return formItems.map((item) =>\n      <Form.Item key={item.id} name={item.id} label={item.label} rules={[]}>\n        <Input placeholder={`请输入${item.label}`} />\n      </Form.Item>\n    );\n  }\n\n  useEffect(() => {\n    resetForm()\n    form.setFieldsValue({})\n  }, [])\n\n  return (\n    <div className='page'>\n      <div className='navbar-box'>\n        <NavBar onBack={back}>工单派发</NavBar>\n      </div>\n      <div className=\"page-content\">\n        <Form className=\"form\" form={form}>\n          <div className=\"form-banner\">\n            <img src={banner} alt=\"\" />\n          </div>\n          <FormItems items={items}></FormItems>\n        </Form>\n      </div>\n      <div className=\"submit-box\">\n        <Button block type=\"submit\" loading={loading} color=\"primary\" onClick={onSubmit}>\n          提交\n        </Button>\n      </div>\n    </div>\n  )\n}\nexport default Main\n","export default __webpack_public_path__ + \"static/media/1.85a2982e.png\";","export default __webpack_public_path__ + \"static/media/2.f5461222.png\";","export default __webpack_public_path__ + \"static/media/3.40e5d79a.png\";","export default __webpack_public_path__ + \"static/media/4.35c04830.png\";","export default __webpack_public_path__ + \"static/media/5.d949fe78.png\";","import React, { useState, useEffect } from 'react'\nimport { Form, Input, Button, NavBar, Toast, Swiper, Dialog } from 'antd-mobile'\nimport { DeleteOutline } from 'antd-mobile-icons'\nimport './index.css'\nimport { useNavigate } from 'react-router-dom'\nimport short from 'short-uuid'\nimport img1 from '../../images/1.png'\nimport img2 from '../../images/2.png'\nimport img3 from '../../images/3.png'\nimport img4 from '../../images/4.png'\nimport img5 from '../../images/5.png'\n\nconst Main = () => {\n  const navigate = useNavigate()\n  const [form] = Form.useForm()\n  const [robotForm] = Form.useForm()\n  const [loading, setLoading] = useState(false)\n  const [items, setItems] = useState([])\n\n  const resetForm = () => {\n    try {\n      let values = {}\n      let saveForm = localStorage.getItem('form')\n      saveForm = JSON.parse(saveForm)\n      if (saveForm && saveForm.items && saveForm.items.length) {\n        setItems(saveForm.items)\n        saveForm.items.forEach(item => {\n          values[item.id] = item.label\n        })\n      } else {\n        const defaultItems = [\n          {id: '001', label: '工单编号'},\n          {id: '002', label: '维修工程师姓名'},\n          {id: '003', label: '产品型号'},\n          {id: '004', label: '故障现象'},\n          {id: '005', label: '备注'},\n        ]\n        setItems(defaultItems)\n        defaultItems.forEach(item => {\n          values[item.id] = item.label\n        })\n      }\n      return {\n        link: saveForm ? saveForm.link : '',\n        values\n      }\n    } catch (err) {\n      console.log('err', err)\n    }\n  }\n\n  const back = () => {\n    navigate('/', { replace: true })\n  }\n  const request = (link, values) => {\n    setLoading(true)\n    try {\n      const items = []\n      for(let key in values) {\n        if (values[key]) {\n          items.push({\n            id: key,\n            label: values[key]\n          })\n        }\n      }\n      if (!items.length) {\n        Dialog.alert({\n          content: '至少需要配置一个字段',\n          onConfirm: () => {}\n        })\n        setLoading(false)\n        return \n      }\n      localStorage.setItem('form', JSON.stringify({\n        link,\n        items\n      }))\n      Toast.show({\n        content: '保存成功',\n      })\n    } catch (err) {\n      console.log('save error:', err)\n    }\n    setLoading(false)\n  }\n  const onSubmit = async () => {\n    try {\n      const robotValues = await robotForm.validateFields()\n      const items = await form.validateFields()\n      const link = robotValues.link\n      request(link, items)\n    } catch (errorList) {\n      console.log(errorList)\n    }\n  }\n  const addItem = () => {\n    setItems(items.concat({\n      id: short.generate()\n    }))\n  }\n  const delItems = (index) => {\n    items.splice(index, 1)\n    setItems([...items])\n  }\n  useEffect(() => {\n    const data = resetForm()\n    robotForm.setFieldsValue({\n      link: data.link || ''\n    })\n    form.setFieldsValue(data.values)\n  }, [robotForm, form])\n\n  const FormItems = (props) => {\n    const formItems = props.items\n    return formItems.map((item, index) =>\n      <div key={item.id}>\n        <Form.Item name={item.id} label={`字段名称`} rules={[]}>\n          <Input placeholder={`请输入字段名称`} />\n        </Form.Item>\n        <DeleteOutline className='del-btn' onClick={() => props.delItems(index)} />\n      </div>\n    );\n  }\n\n  const swiperItems = [img1, img2, img3, img4, img5].map((img, index) => (\n    <Swiper.Item key={index}>\n      <div className='swiper-item-box'>\n        <div className=\"mask\"></div>\n        <img src={img} alt=\"\" />\n      </div>\n    </Swiper.Item>\n  ))\n\n  return (\n    <div className='page page-edit'>\n      <div className='navbar-box'>\n        <NavBar onBack={back}>配置工单</NavBar>\n      </div>\n      <div className=\"page-content\">\n        <section>\n          <h4>第一步：配置群机器人</h4>\n          <Swiper loop>{swiperItems}</Swiper>\n        </section>\n        <section>\n          <h4>第二步：配置群机器人链接</h4>\n          <Form className=\"form\" form={robotForm}>\n            <Form.Item name=\"link\" label={`机器人链接`} rules={[{ required: true, message: `此项必填` }]}>\n              <Input placeholder={`请输入机器人链接`} />\n            </Form.Item>\n          </Form>\n        </section>\n        <section>\n          <h4>第三步：工单组件，详细工单diy请开通”番茄表单“体验</h4>\n          <Form className=\"form\" form={form}>\n          {!!items.length && <FormItems items={items} delItems={delItems}></FormItems>}\n            <div className='add-item'>\n              <Button block onClick={addItem}>\n                添加字段\n              </Button>\n            </div>\n          </Form>\n        </section>\n      </div>\n      <div className=\"submit-box\">\n        <Button block type=\"submit\" loading={loading} color=\"primary\" onClick={onSubmit}>\n          保存\n        </Button>\n      </div>\n    </div>\n  )\n}\nexport default Main\n","import React from 'react'\nimport { HashRouter, Routes, Route } from 'react-router-dom'\nimport Home from './pages/home'\nimport Distribute from './pages/distribute'\nimport Edit from './pages/edit'\n\nexport default function App() {\n  return (\n    <HashRouter>\n      <Routes>\n        <Route path=\"/\" element={<Home />} />\n        <Route path=\"/home\" element={<Home />} />\n        <Route path=\"/distribute\" element={<Distribute />} />\n        <Route path=\"/edit\" element={<Edit />} />\n      </Routes>\n    </HashRouter>\n  )\n}\n","import axios from \"axios\";\nimport React from \"react\";\nimport \"./App.css\";\nimport * as dd from \"dingtalk-jsapi\";\nimport Router from \"./Router\";\n\nexport const UserInfoContext = React.createContext({\n  // domain: \"http://dingfdomt9eqvammwwnx.vaiwan.com\",\n  domain: \"\",\n})\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      //内网穿透工具介绍:\n      // https://developers.dingtalk.com/document/resourcedownload/http-intranet-penetration?pnamespace=app\n      // domain: \"http://dingfdomt9eqvammwwnx.vaiwan.com\",\n      domain: \"\",\n      corpId: \"\",\n      authCode: \"\",\n      userId: \"\",\n      userName: \"\",\n    };\n  }\n\n  render() {\n    if (this.state.userId === \"\") {\n      // 免登操作\n      this.login();\n    }\n    return (\n      // 主编写模块\n      <div className=\"App\">\n        <Router />\n      </div>\n    );\n  }\n\n  //登录-获取corpId\n  login() {\n    axios\n      .get(this.state.domain + \"/getCorpId\")\n      .then((res) => {\n        if (res.data) {\n          this.loginAction(res.data);\n        }\n      })\n      .catch((error) => {\n        alert(\"corpId err, \" + JSON.stringify(error));\n      });\n  }\n\n  //登录操作\n  loginAction(corpId) {\n    // alert(\"corpId: \" +  corpId);\n    let _this = this;\n    dd.runtime.permission.requestAuthCode({\n      corpId: corpId, //企业 corpId\n      onSuccess: function (res) {\n        // 调用成功时回调\n        _this.state.authCode = res.code;\n        axios\n          .get(_this.state.domain + \"/login?authCode=\" + _this.state.authCode)\n          .then((res) => {\n            if (res && res.data.success) {\n              let userId = res.data.data.userId;\n              let userName = res.data.data.userName;\n              alert(\"登录成功，你好\" + userName);\n              setTimeout(function () {\n                _this.setState({\n                  userId: userId,\n                  userName: userName,\n                });\n              }, 0);\n            } else {\n              alert(\"login failed --->\" + JSON.stringify(res));\n            }\n          })\n          .catch((error) => {\n            alert(\"httpRequest failed --->\" + JSON.stringify(error));\n          });\n      },\n      onFail: function (err) {\n        // 调用失败时回调\n        alert(\"requestAuthCode failed --->\" + JSON.stringify(err));\n      },\n    });\n  }\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}