(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{282:function(t,e,n){"use strict";n.r(e);var a=n(5),i=n.n(a),o=n(27),r=n.n(o),s=(n(37),n(28)),c=n(29),u=n(32),d=n(31),f=n(13),l=n.n(f),h=(n(56),n(30)),g=n(6),p=function(t){Object(u.a)(n,t);var e=Object(d.a)(n);function n(t){var a;return Object(s.a)(this,n),(a=e.call(this,t)).state={domain:"",corpId:"",authCode:"",userId:"",userName:""},a}return Object(c.a)(n,[{key:"render",value:function(){return""===this.state.userId&&this.login(),Object(g.jsx)("div",{className:"App"})}},{key:"login",value:function(){var t=this;l.a.get(this.state.domain+"/getCorpId").then((function(e){e.data&&t.loginAction(e.data)})).catch((function(t){alert("corpId err, "+JSON.stringify(t))}))}},{key:"loginAction",value:function(t){var e=this;h.runtime.permission.requestAuthCode({corpId:t,onSuccess:function(t){e.state.authCode=t.code,l.a.get(e.state.domain+"/login?authCode="+e.state.authCode).then((function(t){if(t&&t.data.success){var n=t.data.data.userId,a=t.data.data.userName;alert("\u767b\u5f55\u6210\u529f\uff0c\u4f60\u597d"+a),setTimeout((function(){e.setState({userId:n,userName:a})}),0)}else alert("login failed ---\x3e"+JSON.stringify(t))})).catch((function(t){alert("httpRequest failed ---\x3e"+JSON.stringify(t))}))},onFail:function(t){alert("requestAuthCode failed ---\x3e"+JSON.stringify(t))}})}}]),n}(i.a.Component),m=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,283)).then((function(e){var n=e.getCLS,a=e.getFID,i=e.getFCP,o=e.getLCP,r=e.getTTFB;n(t),a(t),i(t),o(t),r(t)}))};r.a.render(Object(g.jsx)(i.a.StrictMode,{children:Object(g.jsx)(p,{})}),document.getElementById("root")),m()},37:function(t,e,n){},56:function(t,e,n){}},[[282,1,2]]]);
//# sourceMappingURL=main.ba873937.chunk.js.map